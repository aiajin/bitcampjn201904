<!DOCTYPE html>
<html>
    <head>
        <title> 자바스크립트의 객체</title>
        <script>
            
            var obj1 = {};
            var arr1 = [];
            //alert(typeof(arr1));
            
            // 속성 표현
            // --> 속성이름 : 속성(자바스크립트의 데이터 6가지종류)
            var person = {
                name : '유영진' ,
                age : 20,
                check : true,
                books : ['java의 정석','이것이 자바다', '열혈자'],
                eat : function(food){
                    alert(this.name+'님이 '+food+'을/를 먹습니다.');
                } 
                // 객체의 속성의 타입이 함수인 경우 메서드라 표현
            };
            
            // 동적으로 속성 추가
            person.job = 'Programmer';
            person.hello = function(){
                alert('안녕하세요~!!');
            };
            
            //person.hello();
            
            for(var key in person){
               // alert(person[key]);
            }
            
            // 객체의 속성 참조
            alert(person.name);
            
            // 객체의 메서드 호출
            //person. eat('커피');
            
            
            // 생성자 함수 정의
            // 함수의 이름(식별자)의 첫글자 대문자로 쓴다.
            function Student(sname,k,e,m){
                
                this.name=sname; // 이름                
                this.kor=k;  // 국어점수
                this.eng=e;  // 영어점수
                this.meth=m; // 수학점수
                
                // 총점 계산 함수(메서드)
                /*this.getSum = function(){
                    return this.kor+this.eng+this.meth;
                };*/
                // 평균 계산 함수(메서드)
                /*this.getAvg = function(){
                    return this.getSum()/3;
                };*/
                // 결과 출력 메서드 
                /*this.toString = function(){
                    return this.name+'     '+this.getSum()+'     '+ this.getAvg()+'\n';
                };*/
                
            }
            
            // 공통으로 사용되는 메서드를 정의
            // --> prototype 에 메서드 정의
            Student.prototype.getSum = function(){
                return this.kor+this.eng+this.meth;
            };
            Student.prototype.getAvg = function(){
                return this.getSum()/3;
            };
            Student.prototype.toString = function(){
                return this.name+'     '+this.getSum()+'     '+ this.getAvg()+'\n';
            };
            
            
            // 학생정보를 저장하는 배열 생성
            var students = [];
            //students.push({name:'홍길동0', kor:87, meth:69, eng:49});
            students.push(new Student('홍길동0', 87,77,99));
            students.push(new Student('홍길동1', 51,64,89));
            students.push(new Student('홍길동2', 62,45,78));
            students.push(new Student('홍길동3', 73,87,67));
            students.push(new Student('홍길동4', 84,94,76));
            students.push(new Student('홍길동5', 95,52,85));
            students.push(new Student('홍길동6', 76,76,94));
            students.push(new Student('홍길동7', 67,88,83));
            students.push(new Student('홍길동8', 88,74,72));
            students.push(new Student('홍길동9', 49,83,61));
            
            /*students.push({name:'홍길동1', kor:77, meth:79, eng:55});
            students.push({name:'홍길동2', kor:57, meth:69, eng:62});
            students.push({name:'홍길동3', kor:87, meth:99, eng:70});
            students.push({name:'홍길동4', kor:97, meth:79, eng:77});
            students.push({name:'홍길동5', kor:56, meth:89, eng:64});
            students.push({name:'홍길동6', kor:67, meth:59, eng:55});
            students.push({name:'홍길동7', kor:77, meth:99, eng:48});
            students.push({name:'홍길동8', kor:87, meth:99, eng:97});
            students.push({name:'홍길동9', kor:97, meth:69, eng:74});*/
            
            /*for(var k in students){
                
                // 총점을 구하는 메서드 정의, 추가 
                students[k].getSum = function(){
                    return this.kor+this.meth+this.eng;
                };
                
                // 평균을 구하는 메서드 정의, 추가 
                students[k].getAverage = function(){
                    return this.getSum()/3;
                };
            }*/
            
            students.sort(function(left, right){
                return right.getSum()-left.getSum();
            });
            
            students = students.slice(0,3);
            
            var output = '이름     총점     평균\n';
            for(var i=0; i<students.length; i++){
                /*output += students[i].name + '     ' + students[i].getSum() + '     ' + students[i].getAverage() + '\n';*/
                output += students[i].toString();
            }
            
            alert(output);
        
            
            
        
        </script>
    </head>
    <body>
    
    </body>
</html>